DROP TABLE IF EXISTS user CASCADE;
DROP TABLE IF EXISTS todo CASCADE;

CREATE TABLE user (
	id integer generated by default as identity,
	firstName varchar(255) not null,
	lastName varchar(255) not null,
	userName varchar(255) not null,
	password varchar(255) not null,
	primary key (id)
);

CREATE TABLE todo (
	id integer generated by default as identity,
	title varchar(255) not null,
	memo varchar(255) not null,
	dateCreated Date,
	dateCompleted Date,
	important boolean,
	fk_user_id integer,
	primary key (id)
);

ALTER TABLE user add constraint UK_8qrhl5wlohdjoko9nrorkdjkp unique (userName);
ALTER TABLE todo add constraint FKdtss7ab4sx4oagfqyacono43a foreign key (fk_user_id) references user on delete cascade;

